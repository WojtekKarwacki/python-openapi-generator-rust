components:
  schemas:
    AnalyticColumn:
      type: object
      properties:
        columnId:
          $ref: 'table.yml#/components/schemas/ColumnId'
        analyticType:
          $ref: '#/components/schemas/AnalyticType'
      required:
        - columnId
        - analyticType
    AnalyticTable:
      type: object
      properties:
        id:
          $ref: '#/components/schemas/AnalyticTableId'
        tableId:
          $ref: 'table.yml#/components/schemas/TableId'
        name:
          type: string
        analyticColumns:
          type: array
          items:
            $ref: '#/components/schemas/AnalyticColumn'
        dataLeadTime:
          $ref: '#/components/schemas/LeadTime'
      required:
        - id
        - tableId
        - name
        - analyticColumns
    AnalyticTableId:
      $ref: 'api.yml#/components/schemas/Id'
    AnalyticType:
      enum:
        - category
        - date-time
        - ignored
        - numeric
    LeadTime:
      allOf:
        - type: object
          properties:
            columnId:
              $ref: 'table.yml#/components/schemas/ColumnId'
          required:
            - columnId
        - $ref: 'api.yml#/components/schemas/Duration'